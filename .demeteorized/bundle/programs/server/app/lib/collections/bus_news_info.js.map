{"version":3,"sources":["meteor://💻app/lib/collections/bus_news_info.js"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,eAAe,EAAC,EAAC,YAAY,EAAC,OAAO,EAAC,CAAC,CAAC;;;AAGvE,OAAO,CAAC,KAAK,CAAC;AACb,OAAM,EAAE,UAAS,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAC;AAC9C,SAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;EAC9B;AACD,OAAM,EAAE,UAAS,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAC;AAC/C,SAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;EAC9B;AACD,OAAM,EAAE,UAAS,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAC;AAC/C,SAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;EAC9B;CACD,CAAC,CAAC;;;AAGH,OAAO,CAAC,IAAI,CAAC;AACZ,OAAM,EAAE,UAAS,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAC;;AAC9C,MAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,GAAG,CAAC,KAAK,EAAC,GAAG,EAAC,EAAC,GAAG,EAAC,GAAG,CAAC,GAAG,EAAC,EAAC,CAAC,CAAC,KAAK,EAAE,CAAC;;AAErE,SAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEzB,MAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,UAAO,IAAI,CAAC;GACZ,MAAK;AACL,UAAO,KAAK,CAAC;GACb;EACD;CACD,CAAC,CAAC,sE","file":"/lib/collections/bus_news_info.js","sourcesContent":["NewsCol = new Mongo.Collection(\"bus_news_info\",{idGeneration:\"MONGO\"});\n\n//权限判断\nNewsCol.allow({\n\tupdate: function(userId, doc, fields, modifier){\n\t\treturn editNewsPermisson(doc);\n\t},\n\tinsert: function(userId, news, fields, modifier){\n\t\treturn editNewsPermisson(doc);\n\t},\n\tremove: function(userId, news, fields, modifier){\n\t\treturn editNewsPermisson(doc);\n\t}\n});\n\n//ｄｅｎｙ　禁止操作的条件\nNewsCol.deny({\n\tupdate: function(userId, doc, fields, modifier){//此方法　参数名称　固定\n\t\tvar data = NewsCol.find({title:doc.title,_id:{$ne:doc._id}}).fetch();\n\n\t\tconsole.log(data.length);\n\n\t\tif (data.length > 0) {\n\t\t\treturn true;\n\t\t}else {\n\t\t\treturn false;\t\n\t\t}\n\t}\n});\n\n"]}